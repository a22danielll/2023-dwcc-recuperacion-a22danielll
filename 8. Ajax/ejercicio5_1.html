<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="ejercicio2_2.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Faster+One"
      rel="stylesheet"
    />
    <title>Document</title>
  </head>
  <body>
    <header></header>

    <section></section>
    <script>
      fetch(
        "https://mdn.github.io/learning-area/javascript/oojs/tasks/json/sample.json"
      )
        .then((response) => {
          if (response.ok) {
            return response.json();
          }
        })
        .then((data) => {
          console.log(data);
          console.log(`${data[0].name},${data[1].name},${data[2].name}`);
        });
      fetch(
        "https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json"
      )
        .then((response) => {
          if (response.ok) {
            return response.json();
          }
        })
        .then((data) => {
          let header = document.getElementsByTagName("header")[0];
          let section = document.getElementsByTagName("section")[0];
          let h1 = document.createElement("h1");
          let p = document.createElement("p");

          /**
           * TITULO
           **/
          h1.textContent = data.squadName;
          header.append(h1);

          p.textContent =
            "Hometown: " + data.homeTown + " // formed: " + data.formed;
          header.append(p);

          /**
           * CUERPO
           **/
          for (const iterator of data.members) {
            let article = document.createElement("article");
            let h2 = document.createElement("h2");
            let p2 = document.createElement("p");
            let p3 = document.createElement("p");
            let p4 = document.createElement("p");
            let ul = document.createElement("ul");

            h2.textContent = iterator.name;
            p2.textContent = "Age: " + iterator.age;
            p3.textContent = "SecretIdentity: " + iterator.secretIdentity;
            p4.textContent = "Powers: ";

            for (const x of iterator.powers) {
              let li = document.createElement("li");
              li.textContent = x;
              ul.append(li);
            }
            article.append(h2);
            article.append(p2);
            article.append(p3);
            article.append(p4);
            article.append(ul);
            section.append(article);
          }
        });
    </script>
  </body>
</html>
